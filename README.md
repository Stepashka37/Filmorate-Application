# Filmorate Application üé•
Filmorate - –ø—Ä–æ–µ–∫—Ç —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å–∫–∏–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–æ–≥–æ, –∫–∞–∫–∏–µ —Ñ–∏–ª—å–º—ã –≤—ã –∏–≤–∞—à–∏ –¥—Ä—É–∑—å—è —Å–º–æ—Ç—Ä–∏—Ç–µ –∏ –∫–∞–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ –∏–º —Å—Ç–∞–≤–∏—Ç–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ –¥—Ä—É–∑—å—è, –¥–æ–±–∞–≤–ª—è—Ç—å  —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å–º—ã, –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã –∏ –æ—Ü–µ–Ω–∫–∏, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –ø–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤, –ø–æ–ª—É—á–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –≤—ã–±–æ—Ä–∫–∏ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –ø–æ –≥–æ–¥—É –≤—ã–ø—É—Å–∫–∞ –∏ —Ä–µ–∂–∏—Å—Å–µ—Ä—É.

## Tech Stack üîß
[![Java](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)](https://www.oracle.com/java/)[![H2](https://img.shields.io/badge/Spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white)](https://spring.io/projects/spring-framework) 


## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–û—Ç–∑—ã–≤—ã¬ª (–ë–æ–±—Ä–æ–≤—Å–∫–∏–π –í–∏–∫—Ç–æ—Ä)

`POST /reviews`

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ—Ç–∑—ã–≤–∞.

`PUT /reviews`

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∂–µ –∏–º–µ—é—â–µ–≥–æ—Å—è –æ—Ç–∑—ã–≤–∞.

`DELETE /reviews/{id}`

–£–¥–∞–ª–µ–Ω–∏–µ —É–∂–µ –∏–º–µ—é—â–µ–≥–æ—Å—è –æ—Ç–∑—ã–≤–∞.

`GET /reviews/{id}`

–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É. 

`GET /reviews?filmId={filmId}&count={count}`
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–∑—ã–≤–æ–≤ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É —Ñ–∏–ª—å–º–∞, –µ—Å–ª–∏ —Ñ–∏–ª—å–º –Ω–µ —É–∫–∞–∑–∞–Ω —Ç–æ –≤—Å–µ. –ï—Å–ª–∏ –∫–æ–ª-–≤–æ –Ω–µ —É–∫–∞–∑–∞–Ω–æ —Ç–æ 10.

- `PUT /reviews/{id}/like/{userId}`  ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–≤–∏—Ç –ª–∞–π–∫ –æ—Ç–∑—ã–≤—É.
- `PUT /reviews/{id}/dislike/{userId}`  ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–≤–∏—Ç –¥–∏–∑–ª–∞–π–∫ –æ—Ç–∑—ã–≤—É.
- `DELETE /reviews/{id}/like/{userId}`  ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –ª–∞–π–∫/–¥–∏–∑–ª–∞–π–∫ –æ—Ç–∑—ã–≤—É.
- `DELETE /reviews/{id}/dislike/{userId}`  ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –¥–∏–∑–ª–∞–π–∫ –æ—Ç–∑—ã–≤—É.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–ü–æ–∏—Å–∫¬ª (–ú–∞–∫—Å–∏–º–æ–≤ –î–º–∏—Ç—Ä–∏–π)

`GET /fimls/search`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞**

`query` ‚Äî —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞

`by` ‚Äî –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è `director` (–ø–æ–∏—Å–∫ –ø–æ —Ä–µ–∂–∏—Å—Å—ë—Ä—É), `title` (–ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é), –ª–∏–±–æ –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –ø–æ —Ä–µ–∂–∏—Å—Å–µ—Ä—É –∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–û–±—â–∏–µ —Ñ–∏–ª—å–º—ã¬ª (–ë–æ–±—Ä–æ–≤—Å–∫–∏–π –í–∏–∫—Ç–æ—Ä)

`GET /films/common?userId={userId}&friendId={friendId}`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**

`userId` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—â–µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é;

`friendId` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏¬ª (–ö–æ—Ä—é–∫–æ–≤–∞ –ù–∞–¥–µ–∂–¥–∞)

`GET /users/{id}/recommendations`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ñ–∏–ª—å–º–∞–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–õ–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π¬ª (–ü—å—è–Ω–∫–æ–≤ –í–ª–∞–¥–∏–º–∏—Ä)

`GET /users/{id}/feed`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–µ–Ω—Ç—É —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π¬ª (–ú–∞–∫—Å–∏–º–æ–≤ –î–º–∏—Ç—Ä–∏–π)

`DELETE /users/{userId}` 

–£–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É. 

`DELETE /films/{filmId}` 

–£–¥–∞–ª—è–µ—Ç —Ñ–∏–ª—å–º –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤ –≤ —Ñ–∏–ª—å–º—ã¬ª (–ñ–æ–ª—Ç–∏–∫–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä)

`GET /films/director/{directorId}?sortBy=[year,likes]` 

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤ —Ä–µ–∂–∏—Å—Å–µ—Ä–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª–∞–π–∫–æ–≤ –∏–ª–∏ –≥–æ–¥—É –≤—ã–ø—É—Å–∫–∞. 

`GET /directors` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤

`GET /directors/{id}`- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∂–∏—Å—Å—ë—Ä–∞ –ø–æ id

`POST /directors` - –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∂–∏—Å—Å—ë—Ä–∞

`PUT /directors` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏—Å—Å—ë—Ä–∞

`DELETE /directors/{id}` - –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–∂–∏—Å—Å—ë—Ä–∞

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ¬´–í—ã–≤–æ–¥ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∂–∞–Ω—Ä—É –∏ –≥–æ–¥–∞–º¬ª (–ë–æ–±—Ä–æ–≤—Å–∫–∏–π –í–∏–∫—Ç–æ—Ä)

`GET /films/popular?count={limit}&genreId={genreId}&year={year}`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∂–∞–Ω—Ä–∞ –∑–∞ –Ω—É–∂–Ω—ã–π –≥–æ–¥.

# –°—Ö–µ–º–∞ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: 

<p align="left">
<a href="https://miro.com/app/board/uXjVMbPpfag=/?moveToWidget=3458764549540578678&cot=10" target="_blank" rel="noreferrer"><img src="https://github.com/Stepashka37/java-filmorate/blob/add-friends-likes/My First Board (1).jpg" width="2000" height="900" alt="Java" /></a>

  </p>

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1) –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∏–ª—å–º–æ–≤
   
   SELECT * 
   FROM Film;
   
2) –ü–æ–ª—É—á–∏—Ç—å —Ñ–∏–ª—å–º c –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º id:
   
   SELECT * 
   FROM Film
   WHERE film_id = <your_id>;
   
3) –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤:
   
   SELECT f.name as name
          COUNT(fl.user_id) as likes_number
   FROM Film as f
   LEFT JOIN FILM_SCORES AS fl ON fl.film_id = f.film_id
   GROUP BY f.name 
   ORDER BY likes_number DESC
   LIMIT <your_limit>;
   
4) –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —é–∑–µ—Ä–æ–≤
   
   SELECT * 
   FROM User;
   
5) –ü–æ–ª—É—á–∏—Ç—å —é–∑–µ—Ä–∞ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º id
   
   SELECT * 
   FROM User
   WHERE user_id = <your_id>;
   
6) –ü–æ–ª—É—á–∏—Ç—å –¥—Ä—É–∑–µ–π —é–∑–µ—Ä–∞ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º id

   SELECT u.* AS user,
      f.* AS friend
FROM User AS u
LEFT JOIN User AS f ON u.friend_id = f.user_id
WHERE u.user_id = <your_id>;

7) –ü–æ–ª—É—á–∏—Ç—å –æ–±—â–∏—Ö –¥—Ä—É–∑–µ–π —é–∑–µ—Ä–∞ c id = 1 –∏ id = 2
SELECT user1_friends.user_id
FROM (SELECT u.* AS user,
      f.* AS friend
      FROM User AS u
      LEFT JOIN User AS f ON u.friend_id = f.user_id
      WHERE u.user_id = <your_id>) AS user1_friends
INNER JOIN (SELECT u.* AS user,
      f.* AS friend
      FROM User AS u
      LEFT JOIN User AS f ON u.friend_id = f.user_id
      WHERE u.user_id = <your_id>) AS user2_friends 
ON user1_friends.friend_id = user2_friends.frind_id;

  
  SELECT * FROM EMP JOIN DEPT ON EMP.DEPTNO = DEPT.DEPTNO;
